---
    name: PyTest
    
    on: [ push ]
    
    jobs:
      test:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v4
          - name: Set up Python 3.12
            uses: actions/setup-python@v5
            with:
              python-version: 3.12
              cache: 'pip'
          - name: Install dependencies
            run: pip install -r requirements.txt
          - name: Running tests
            run: pytest
            
      build-and-push:
        runs-on: ubuntu-latest
        steps:
          - name: Set up Docker Buildx
            uses: docker/setup-buildx-action@v3
    
          - name: Login to Docker Hub
            uses: docker/login-action@v3
            with:
              username: ${{ secrets.DOCKERHUB_USERNAME }}
              password: ${{ secrets.DOCKERHUB_PASSWORD }}
              ecr: false
              logout: true
    
          # Build the Docker image
          - name: Build Docker image
            run: |
              docker build -t your-dockerhub-samaenany/todolist-depi-project-name:latest .
    
          # Push the Docker image to Docker Hub
          - name: Push Docker image
            run: |
              docker push your-dockerhub-samaenany/todolist-depi-project-name:latest